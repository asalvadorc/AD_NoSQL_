# Instalaci√≥n

Hoy en d√≠a existen m√∫ltiples opciones para trabajar con MongoDB, tanto a nivel de instalaci√≥n como de desarrollo y administraci√≥n.
Aqu√≠ tienes un resumen actualizado, organizado por categor√≠as üëá

‚öôÔ∏è **1. Opciones de instalaci√≥n y despliegue**

| Opci√≥n | Descripci√≥n | Ideal para |
|--------|--------------|-------------|
| üñ•Ô∏è **MongoDB Community Server** | Versi√≥n gratuita que se instala localmente en Windows, Linux o macOS. | Pr√°cticas locales, entornos educativos. |
| üê≥ **MongoDB en Docker** | Se ejecuta como contenedor con `docker-compose` o comandos `docker run`. | Entornos de desarrollo r√°pidos y reproducibles. |
| ‚òÅÔ∏è **MongoDB Atlas** | Servicio en la nube oficial de MongoDB. Permite crear cl√∫steres gratuitos o de pago, gestionados por Mongo. | Proyectos web, microservicios, despliegues reales. |
| üß© **MongoDB Local + Atlas Sync** | Permite sincronizar datos locales con una base remota en Atlas. | Aplicaciones con modo offline/online. |

üíª **2. Herramientas de administraci√≥n y visualizaci√≥n**

| Herramienta | Tipo | Descripci√≥n |
|--------------|------|--------------|
| üß≠ **MongoDB Compass** | GUI oficial | Interfaz gr√°fica para consultar, insertar y analizar datos. |
| üêò **DBeaver** | GUI universal | Permite conectarse a Mongo y a otras bases de datos (SQL y NoSQL). |
| üßë‚Äçüíª **Robo 3T** *(antiguo Robomongo)* | GUI ligera | Muy utilizada para tareas b√°sicas de exploraci√≥n. |
| üìú **mongosh** | Consola oficial | Shell de comandos moderno (sustituye a `mongo`). |


Podremos instalar MongoDB en cualquier plataforma, e incluso sin tener permisos de administrador, como veremos en el caso de Ubuntu.

Tambi√©n existe la posibilidad de crear un servidor en la nube, incluso de forma gratuita.
Es la opci√≥n que MongoDB recomienda por defecto, aunque nosotros no la utilizaremos.


## üêß Instalaci√≥n en Linux

Para realizar la instalaci√≥n m√°s b√°sica, podemos hacerlo sin permisos de administrador.
Si los tenemos, todo ser√° m√°s c√≥modo, pero si no, tambi√©n es posible, como veremos y destacaremos a continuaci√≥n.

‚öôÔ∏è **Instalaci√≥n del servidor (Linux)**{.azul}

Desde la p√°gina oficial de MongoDB: [https://www.mongodb.com/try/download/community
](https://www.mongodb.com/try/download/community) vamos al men√∫ **Products ‚Üí Community Edition ‚Üí Community Server** y descargamos la versi√≥n apropiada para nuestro sistema operativo.

Observa que, en el caso de Linux, hay muchas versiones para distintas distribuciones.
Es recomendable elegir el paquete **.tgz**, ya que simplemente descomprimiendo el archivo se completa la instalaci√≥n b√°sica.

Por ejemplo, para Ubuntu 22.04 de 64 bits, el archivo ser√≠a: [https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-ubuntu2204-8.0.5.tgz](https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-ubuntu2204-8.0.5.tgz)

!!!Warning ""
    Recuerda comprobar siempre que la versi√≥n coincide con la de tu sistema operativo.

Sencillamente, descomprimiremos este archivo en el lugar que queramos, y con eso ya tendremos la instalaci√≥n b√°sica lista.

Por defecto, el directorio de la base de datos es:

    /data/db

El √∫nico problema que podr√≠amos tener, si no somos administradores, es no tener permiso para crear ese directorio.
En ese caso, crearemos otro directorio alternativo y, en el momento de arrancar el servidor, le indicaremos esa ubicaci√≥n.

‚ñ∂Ô∏è La forma de arrancar el servidor ser√°:

    <directori arrel MongoDB>./bin/mongod

Opcionalmente, podemos indicarle a MongoDB d√≥nde se encuentra la base de datos (si no lo especificamos, asumir√° por defecto que est√° en /data/db):

    <directorio ra√≠z de MongoDB>/bin/mongod --dbpath <directorio_de_la_BD>

Resumiendo, y situados en el directorio donde hemos descomprimido MongoDB:

üìÅ Crear el directorio de datos

    mkdir /data  
    mkdir /data/db

‚ñ∂Ô∏è Si no somos administradores, arrancamos el servidor as√≠:    

    ./bin/mongod --dbpath ./data/db

üîê Si somos administradores, simplemente lo iniciamos con:

    ./bin/mongod

La siguiente imagen ilustra esta segunda opci√≥n.

Corresponde a una versi√≥n anterior de MongoDB, pero el procedimiento es totalmente equivalente.

![alt text](../img/mongod.png)

!!!Note "Nota"
    Una vez que el servidor est√° en marcha, no debemos cerrar esa terminal, ya que al hacerlo detendr√≠amos el servidor.



‚öôÔ∏è **Instalaci√≥n del cliente MongoShell (Linux)**{.azul}

Desde la p√°gina de MongoDB [https://www.mongodb.com/try/download/shell
](https://www.mongodb.com/try/download/shell) vamos al men√∫
**Products ‚Üí Tools ‚Üí MongoDB Shell**, y descargamos la versi√≥n apropiada para nuestro sistema operativo.

Observa que, en el caso de Linux, existen muchas versiones para diferentes distribuciones.
Es recomendable elegir el paquete **.tgz**, ya que simplemente descomprimiendo el archivo se completa la instalaci√≥n.

En el caso de Ubuntu 22.04 de 64 bits, seleccionaremos la opci√≥n gen√©rica ‚ÄúLinux 64‚Äù, ya que es la que ofrece el paquete .tgz.

El archivo correspondiente es: [https://downloads.mongodb.com/compass/mongosh-2.4.0-linux-x64.tgz](https://downloads.mongodb.com/compass/mongosh-2.4.0-linux-x64.tgz)

!!!Warning ""
    Recuerda asegurarte siempre de que la versi√≥n sea la correcta para tu sistema.

Sencillamente descomprimiremos este archivo en el lugar que queramos, y con eso ya tendremos hecha la instalaci√≥n b√°sica.

    <directori arrel Mongosh>/bin/mongosh

    ./bin/mongosh

![alt text](../img/mongosh.png)    


## ü™ü Instalaci√≥n en Windows

‚öôÔ∏è **Instalaci√≥n del servidor (Windows)**{.azul}

La instalaci√≥n no presenta ninguna dificultad.
Descargamos la versi√≥n correspondiente de MongoDB para Windows, que se distribuye como un archivo .msi ejecutable.

En el momento de redactar estos apuntes, la versi√≥n de 64 bits m√°s reciente es la 8.0.5:
üëâ https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-8.0.5-signed.msi

Al igual que en el caso de Linux, antes de ejecutar el servidor debemos tener creado el directorio de datos.
Por defecto, este directorio ser√°:

    \data\db

üìÅ Creaci√≥n del directorio y arranque del servidor

Ejecuta los siguientes comandos en el S√≠mbolo del sistema (cmd) o PowerShell:

    mkdir \data\db
    "C:\Program Files\MongoDB\Server\8.0\bin\mongod.exe"


Si todo es correcto, deber√≠a aparecer una ventana o consola indicando que el servidor est√° en ejecuci√≥n, como en la siguiente imagen:

![alt text](../img/mongodW.png)


!!!Note "Nota"
    Si instalaste MongoDB utilizando el instalador MSI de MongoDB, normalmente el servicio ya quedar√° instalado autom√°ticamente, por lo que no ser√° necesario ejecutarlo manualmente.


üíª **Instalaci√≥n del cliente Mongo Shell (Windows)**{.azul}

Para conectarnos como clientes, debemos hacerlo desde otra terminal, utilizando mongosh.exe, que es la interfaz de l√≠nea de comandos (CLI) oficial de MongoDB.

Esta herramienta permite interactuar con la base de datos mediante comandos en JavaScript.

üîΩ Descarga

Descargamos la versi√≥n correspondiente de MongoDB Shell para Windows desde la p√°gina oficial:[https://www.mongodb.com/try/download/shell](https://www.mongodb.com/try/download/shell)

!!!Tip "Mongo Compass"
    Tambi√©n pod√©is descargar la versi√≥n MongoDB Compass, que es la herramienta gr√°fica oficial de MongoDB, la cual permite visualizar, explorar y administrar bases de datos MongoDB sin necesidad de utilizar la l√≠nea de comandos.

    [https://downloads.mongodb.com/compass/mongodb-compass-1.45.3-win32-x64.exe](https://downloads.mongodb.com/compass/mongodb-compass-1.45.3-win32-x64.exe)

**Probar el funcionament**{.azul}

Para probar su funcionamiento, vamos a ejecutar un par de comandos: uno para guardar un documento y otro para recuperarlo.

En cualquier operaci√≥n, debemos escribir db seguido del nombre de la colecci√≥n, y despu√©s la operaci√≥n que queremos realizar.
Con el siguiente comando:

    db.ejemplo.insertOne({ msg: "Hola, ¬øqu√© tal?" })


Nos responder√° con:

    WriteResult({ "nInserted" : 1 })


Indicando que se ha insertado un documento en la colecci√≥n ejemplo (si no exist√≠a, la crear√° autom√°ticamente).

Y con el siguiente comando recuperamos la informaci√≥n:

    db.ejemplo.find()


Lo que nos devolver√° algo como:

    { "_id" : ObjectId("56cc1acd73b559230de8f71b"), "msg" : "Hola, ¬øqu√© tal?" }


Todo esto se realiza en la misma terminal, y cada uno de nosotros obtendr√° un n√∫mero diferente en el campo ObjectId.
En la siguiente imagen pueden verse las dos operaciones.

![alt text](../img/mongo_opW.png)

En realidad, estamos conectados a una base de datos llamada test.
Podemos crear y utilizar m√°s de una base de datos, pero en este curso ser√° m√°s que suficiente trabajar con esta.

Para comprobarlo, podemos ejecutar la siguiente instrucci√≥n, que nos devuelve el nombre de la base de datos actual:

    db.getName()